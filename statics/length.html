<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Document</title>
    <link rel="stylesheet" href="./progress.css" />
    <script type="text/javascript" src="http://cdn.bootcss.com/jquery/1.11.3/jquery.js"></script>
</head>

<body>
    <div class="wrapper">
        <!-- <span class="instructions">The progress bubble below can transition between red, orange, and green depending on the current percentage.</span>
    <span class="instructions">Go ahead and try it out by using the text box below.</span> -->
        <div class="green">
            <div class="progress">
                <div class="inner">
                    <div class="percent"><span>67</span>%</div>
                    <div class="water"></div>
                    <div class="glare"></div>
                </div>
            </div>
        </div>
        <span>Enter Percentage: <input type="text" placeholder="67" id="percent-box">%</span>
        <!-- <section id="copyright">
        <div>(c) 2015 John Mothershed - <a href="http://opensource.org/licenses/MIT">License MIT</a> </div>
        <div>Work is modified and inspired from <a href="http://codepen.io/JamieDixon/pen/Pqrjvv">Jamie Dixon's pen</a></div>
    </section> -->
    </div>
    <script type="text/javascript">
    var colorInc = 100 / 3;
    $(function() {
        $("#percent-box").click(function() {
            $(this).select();
        });
        $("#percent-box").keyup(function() {
            var val = $(this).val();
            if (val != "" &&
                !isNaN(val) &&
                val <= 100 &&
                val >= 0) {
                console.log(val);

                var valOrig = val;
                val = 100 - val;

                if (valOrig == 0) {
                    $("#percent-box").val(0);
                    $(".progress .percent").text(0 + "%");
                } else $(".progress .percent").text(valOrig + "%");

                $(".progress").parent().removeClass();
                $(".progress .water").css("top", val + "%");

                if (valOrig < colorInc * 1)
                    $(".progress").parent().addClass("red");
                else if (valOrig < colorInc * 2)
                    $(".progress").parent().addClass("orange");
                else
                    $(".progress").parent().addClass("green");
            } else {
                $(".progress").parent().removeClass();
                $(".progress").parent().addClass("green");
                $(".progress .water").css("top", 100 - 67 + "%");
                $(".progress .percent").text(67 + "%");
                $("#percent-box").val("");
            }
        });
    });
    </script>
</body>

</html>
